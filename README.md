# gounit
A Unit Testing Framework for Go

## example

```
package main

import (
	"github.com/lixiangyun/gounit"
)

type hello int

func (hello) Test01(s *gounit.Test) {
	s.ASSERT(true)
}

func (hello) Test02(s *gounit.Test) {
	s.ASSERT(true)
}

type world int

func (world) Test01(s *gounit.Test) {
	for i := 0; i < 100; i++ {
		s.ASSERT(true)
	}
}

func (world) Test02(s *gounit.Test) {
	s.ASSERT(false)
	s.ASSERT(false)
}

func main() {
	var a hello
	var b world
	
	gounit.AddSuite(&a)
	gounit.AddSuite(&b)
	
	gounit.RunAllTests()
}
```

If the use cases are all passed, the following information will be printed.

```
2018/06/07 17:34:11.255409 Suite *main.hello Add [Test01]
2018/06/07 17:34:11.427291 Suite *main.hello Add [Test02]
2018/06/07 17:34:11.427291 Suite *main.world Add [Test01]
2018/06/07 17:34:11.427291 Suite *main.world Add [Test02]
2018/06/07 17:34:11.427291 Suite : *main.hello
2018/06/07 17:34:11.427291 Test : Test01 run paas!
2018/06/07 17:34:11.427291 Test : Test02 run paas!
2018/06/07 17:34:11.427291 Suite : *main.world
2018/06/07 17:34:11.427291 Test : Test01 run paas!
2018/06/07 17:34:11.427291 Test : Test02 run paas!
Run Summary : Total   Passed    Failed
      Suite       2       2       0
      Tests       4       4       0
      Cases     104     104       0
```

If there is a failure case, the following information will be printed.

```
2018/06/07 17:34:29.006204 Suite *main.hello Add [Test01]
2018/06/07 17:34:29.178086 Suite *main.hello Add [Test02]
2018/06/07 17:34:29.178086 Suite *main.world Add [Test01]
2018/06/07 17:34:29.178086 Suite *main.world Add [Test02]
2018/06/07 17:34:29.178086 Suite : *main.hello
2018/06/07 17:34:29.178086 Test : Test01 run paas!
2018/06/07 17:34:29.178086 Test : Test02 run paas!
2018/06/07 17:34:29.178086 Suite : *main.world
2018/06/07 17:34:29.178086 Test : Test01 run paas!
2018/06/07 17:34:29.178086 Test : Test02 run failed!([goroutine 1 [running]:
runtime/debug.Stack(0x4a065a, 0x4e8160, 0x12880)
	D:/Go/src/runtime/debug/stack.go:24 +0xae
github.com/lixiangyun/gounit.(*Test).ASSERT(0xc04206e1e0, 0x0)
	D:/Go_project/src/github.com/lixiangyun/gounit/unit.go:118 +0x6b
main.world.Test02(0x0, 0xc04206e1e0)
	D:/Go_project/src/github.com/lixiangyun/gounit/example/main.go:26 +0x37
main.(*world).Test02(0xc04200c150, 0xc04206e1e0)
	<autogenerated>:1 +0x4d
reflect.callMethod(0xc04206c300, 0xc04205ddc0)
	D:/Go/src/reflect/value.go:646 +0x185
reflect.methodValueCall(0xc04206e1e0, 0x15, 0xc04205de08, 0x1, 0x1, 0x1, 0x2, 0xc04206e1e0, 0xc042032358, 0x4dd500, ...)
	D:/Go/src/reflect/asm_amd64.s:29 +0x3a
github.com/lixiangyun/gounit.(*Suite).run(0xc04206c270)
	D:/Go_project/src/github.com/lixiangyun/gounit/unit.go:57 +0x12c
github.com/lixiangyun/gounit.RunAllTests(0x0, 0x0, 0x0, 0x0, 0x0, 0x0)
	D:/Go_project/src/github.com/lixiangyun/gounit/unit.go:150 +0xa4
main.main()
	D:/Go_project/src/github.com/lixiangyun/gounit/example/main.go:37 +0x95
])
Run Summary : Total   Passed    Failed
      Suite       2       1       1
      Tests       4       3       1
      Cases     103     102       1

```
