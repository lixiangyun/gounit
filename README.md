# gounit
A Unit Testing Framework for Go

## example

```
package main

import (
	"github.com/lixiangyun/gounit"
)

type hello int

func (hello) Test01(s *gounit.Suite) {
	s.ASSERT(true)
}

func (hello) Test02(s *gounit.Suite) {
	s.ASSERT(true)
}

type world int

func (world) Test01(s *gounit.Suite) {
	s.ASSERT(true)
}

func (world) Test02(s *gounit.Suite) {
	s.ASSERT(true)
}

func main() {

	var a hello
	var b world

	gounit.AddSuite(&a)
	gounit.AddSuite(&b)

	gounit.RunAllTests()

}
```

If the use cases are all passed, the following information will be printed.

```
2018/06/07 09:24:00 Suite *main.hello add test  Test01 0x4b29e0
2018/06/07 09:24:00 Suite *main.hello add test  Test02 0x4b29e0
2018/06/07 09:24:00 Suite *main.world add test  Test01 0x4b29e0
2018/06/07 09:24:00 Suite *main.world add test  Test02 0x4b29e0
2018/06/07 09:24:00 Suite : *main.hello
2018/06/07 09:24:00 Test : Test01 run paas!
2018/06/07 09:24:00 Test : Test02 run paas!
2018/06/07 09:24:00 Suite : *main.world
2018/06/07 09:24:00 Test : Test01 run paas!
2018/06/07 09:24:00 Test : Test02 run paas!
Run Summary : Total   Passed    Failed
                  4       4       0
```

If there is a failure case, the following information will be printed.

```
2018/06/07 09:25:19 Suite *main.hello add test  Test01 0x4b29e0
2018/06/07 09:25:19 Suite *main.hello add test  Test02 0x4b29e0
2018/06/07 09:25:19 Suite *main.world add test  Test01 0x4b29e0
2018/06/07 09:25:19 Suite *main.world add test  Test02 0x4b29e0
2018/06/07 09:25:19 Suite : *main.hello
2018/06/07 09:25:19 Test : Test01 run paas!
2018/06/07 09:25:19 Test : Test02 run paas!
2018/06/07 09:25:19 Suite : *main.world
2018/06/07 09:25:19 Test : Test01 run paas!
2018/06/07 09:25:19 Test : Test02 run failed!(goroutine 1 [running]:
runtime/debug.Stack(0xc04206c420, 0x10, 0x10)
	D:/Go/src/runtime/debug/stack.go:24 +0xae
github.com/lixiangyun/gounit.(*Suite).ASSERT(0xc0420341c0, 0x0)
	D:/Go_project/src/github.com/lixiangyun/gounit/unit.go:121 +0x62
main.world.Test02(0x0, 0xc0420341c0)
	D:/Go_project/src/github.com/lixiangyun/gounit/example/main.go:24 +0x37
main.(*world).Test02(0xc042010140, 0xc0420341c0)
	<autogenerated>:1 +0x4d
reflect.callMethod(0xc04206c330, 0xc04205de08)
	D:/Go/src/reflect/value.go:646 +0x185
reflect.methodValueCall(0xc0420341c0, 0x15, 0xc04205de50, 0x1, 0x1, 0x1, 0x2, 0xc04206c360, 0xc042032358, 0x4dcf80, ...)
	D:/Go/src/reflect/asm_amd64.s:29 +0x3a
github.com/lixiangyun/gounit.(*Suite).run(0xc0420341c0)
	D:/Go_project/src/github.com/lixiangyun/gounit/unit.go:53 +0x14a
github.com/lixiangyun/gounit.RunAllTests(0x4e7b80, 0xc042010140, 0x0)
	D:/Go_project/src/github.com/lixiangyun/gounit/unit.go:142 +0x7e
main.main()
	D:/Go_project/src/github.com/lixiangyun/gounit/example/main.go:35 +0x95
)
Run Summary : Total   Passed    Failed
                  4       3       1

```
